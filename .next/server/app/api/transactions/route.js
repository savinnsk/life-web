"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/transactions/route";
exports.ids = ["app/api/transactions/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "sqlite3":
/*!**************************!*\
  !*** external "sqlite3" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("sqlite3");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftransactions%2Froute&page=%2Fapi%2Ftransactions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftransactions%2Froute.ts&appDir=%2Fmedia%2Fa%2Fexec%2Flab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fa%2Fexec%2Flab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftransactions%2Froute&page=%2Fapi%2Ftransactions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftransactions%2Froute.ts&appDir=%2Fmedia%2Fa%2Fexec%2Flab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fa%2Fexec%2Flab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _media_a_exec_lab_app_api_transactions_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/transactions/route.ts */ \"(rsc)/./app/api/transactions/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/transactions/route\",\n        pathname: \"/api/transactions\",\n        filename: \"route\",\n        bundlePath: \"app/api/transactions/route\"\n    },\n    resolvedPagePath: \"/media/a/exec/lab/app/api/transactions/route.ts\",\n    nextConfigOutput,\n    userland: _media_a_exec_lab_app_api_transactions_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/transactions/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ0cmFuc2FjdGlvbnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnRyYW5zYWN0aW9ucyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnRyYW5zYWN0aW9ucyUyRnJvdXRlLnRzJmFwcERpcj0lMkZtZWRpYSUyRmElMkZleGVjJTJGbGFiJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZtZWRpYSUyRmElMkZleGVjJTJGbGFiJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ0Q7QUFDNUU7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb250cm9sZS1maW5hbmNlaXJvLW1vYmlsZS8/NTEzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvbWVkaWEvYS9leGVjL2xhYi9hcHAvYXBpL3RyYW5zYWN0aW9ucy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdHJhbnNhY3Rpb25zL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdHJhbnNhY3Rpb25zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS90cmFuc2FjdGlvbnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvbWVkaWEvYS9leGVjL2xhYi9hcHAvYXBpL3RyYW5zYWN0aW9ucy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS90cmFuc2FjdGlvbnMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftransactions%2Froute&page=%2Fapi%2Ftransactions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftransactions%2Froute.ts&appDir=%2Fmedia%2Fa%2Fexec%2Flab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fa%2Fexec%2Flab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/transactions/route.ts":
/*!***************************************!*\
  !*** ./app/api/transactions/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./lib/database.ts\");\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\n\n// GET - Buscar transações\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const month = searchParams.get(\"month\");\n        const year = searchParams.get(\"year\");\n        const type = searchParams.get(\"type\");\n        let query = `\n      SELECT t.*, c.color as category_color\n      FROM transactions t\n      LEFT JOIN categories c ON t.category = c.name\n      WHERE 1=1\n    `;\n        const params = [];\n        if (month && year) {\n            query += ` AND strftime('%m', t.date) = ? AND strftime('%Y', t.date) = ?`;\n            params.push(month.padStart(2, \"0\"), year);\n        }\n        if (type) {\n            query += ` AND t.type = ?`;\n            params.push(type);\n        }\n        query += ` AND (t.is_parceled = 0 OR t.is_parceled IS NULL) ORDER BY t.date DESC, t.created_at DESC`;\n        const transactions = await _lib_database__WEBPACK_IMPORTED_MODULE_0__.dbMethods.all(query, params);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json(transactions);\n    } catch (error) {\n        console.error(\"Erro ao buscar transa\\xe7\\xf5es:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n            error: \"Erro interno do servidor\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST - Criar transação\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { description, amount, type, category, date, is_parceled, total_parcels, paid } = body;\n        if (!description || !amount || !type || !category || !date) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                error: \"Campos obrigat\\xf3rios n\\xe3o fornecidos\"\n            }, {\n                status: 400\n            });\n        }\n        // Se for parcelado, criar apenas as parcelas (não a transação principal)\n        if (is_parceled && total_parcels > 1) {\n            const parcelAmount = amount / total_parcels;\n            const transactionDate = new Date(date);\n            // Criar a transação principal para referência\n            const parentResult = await _lib_database__WEBPACK_IMPORTED_MODULE_0__.dbMethods.runWithId(`INSERT INTO transactions (description, amount, type, category, date, is_parceled, total_parcels)\n            VALUES (?, ?, ?, ?, ?, 0, ?)`, description, amount, type, category, date, total_parcels);\n            const parentId = parentResult.lastID;\n            for(let i = 1; i <= total_parcels; i++){\n                const parcelDate = new Date(transactionDate);\n                parcelDate.setMonth(parcelDate.getMonth() + (i - 1));\n                await _lib_database__WEBPACK_IMPORTED_MODULE_0__.dbMethods.runWithId(`INSERT INTO transactions (description, amount, type, category, date, is_parceled, total_parcels, current_parcel, parent_transaction_id, paid)\n           VALUES (?, ?, ?, ?, ?, 1, ?, ?, ?, ?)`, `${description} (${i}/${total_parcels})`, parcelAmount, type, category, parcelDate.toISOString().split(\"T\")[0], total_parcels, i, parentId, paid);\n            }\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                id: parentId,\n                message: \"Transa\\xe7\\xe3o parcelada criada com sucesso\"\n            });\n        } else {\n            // Transação normal (não parcelada)\n            const result = await _lib_database__WEBPACK_IMPORTED_MODULE_0__.dbMethods.runWithId(`INSERT INTO transactions (description, amount, type, category, date, is_parceled, total_parcels, current_parcel, paid)\n            VALUES (?, ?, ?, ?, ?, 0, 1, 1, ?)`, description, amount, type, category, date, paid);\n            const transactionId = result.lastID;\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                id: transactionId,\n                message: \"Transa\\xe7\\xe3o criada com sucesso\"\n            });\n        }\n    } catch (error) {\n        console.error(\"Erro ao criar transa\\xe7\\xe3o:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n            error: \"Erro interno do servidor\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNILG1DQUFtQztZQUNuQyxNQUFNQyxTQUFTLE1BQU03QyxvREFBU0EsQ0FBQ2tDLFNBQVMsQ0FDcEMsQ0FBQzs4Q0FDNkIsQ0FBQyxFQUMvQlgsYUFBYUMsUUFBUWQsTUFBTWUsVUFBVUMsTUFBTUc7WUFHL0MsTUFBTWlCLGdCQUFnQkQsT0FBT1QsTUFBTTtZQUNuQyxPQUFPbkMsa0ZBQVlBLENBQUNnQixJQUFJLENBQUM7Z0JBQUUwQixJQUFJRztnQkFBZUYsU0FBUztZQUErQjtRQUMxRjtJQUNKLEVBQUUsT0FBTzFCLE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLGtDQUE0QkE7UUFDMUMsT0FBT2pCLGtGQUFZQSxDQUFDZ0IsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBMkIsR0FBRztZQUFFRSxRQUFRO1FBQUk7SUFDbEY7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbnRyb2xlLWZpbmFuY2Vpcm8tbW9iaWxlLy4vYXBwL2FwaS90cmFuc2FjdGlvbnMvcm91dGUudHM/NzcyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYk1ldGhvZHMgfSBmcm9tICdAL2xpYi9kYXRhYmFzZSc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbiB9IGZyb20gJ0AvbGliL3R5cGVzJztcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5cbi8vIEdFVCAtIEJ1c2NhciB0cmFuc2HDp8O1ZXNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICAgIGNvbnN0IG1vbnRoID0gc2VhcmNoUGFyYW1zLmdldCgnbW9udGgnKTtcbiAgICAgICAgY29uc3QgeWVhciA9IHNlYXJjaFBhcmFtcy5nZXQoJ3llYXInKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IHNlYXJjaFBhcmFtcy5nZXQoJ3R5cGUnKTtcblxuICAgICAgICBsZXQgcXVlcnkgPSBgXG4gICAgICBTRUxFQ1QgdC4qLCBjLmNvbG9yIGFzIGNhdGVnb3J5X2NvbG9yXG4gICAgICBGUk9NIHRyYW5zYWN0aW9ucyB0XG4gICAgICBMRUZUIEpPSU4gY2F0ZWdvcmllcyBjIE9OIHQuY2F0ZWdvcnkgPSBjLm5hbWVcbiAgICAgIFdIRVJFIDE9MVxuICAgIGA7XG4gICAgICAgIGNvbnN0IHBhcmFtczogKHN0cmluZyB8IG51bWJlcilbXSA9IFtdO1xuXG4gICAgICAgIGlmIChtb250aCAmJiB5ZWFyKSB7XG4gICAgICAgICAgICBxdWVyeSArPSBgIEFORCBzdHJmdGltZSgnJW0nLCB0LmRhdGUpID0gPyBBTkQgc3RyZnRpbWUoJyVZJywgdC5kYXRlKSA9ID9gO1xuICAgICAgICAgICAgcGFyYW1zLnB1c2gobW9udGgucGFkU3RhcnQoMiwgJzAnKSwgeWVhcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgcXVlcnkgKz0gYCBBTkQgdC50eXBlID0gP2A7XG4gICAgICAgICAgICBwYXJhbXMucHVzaCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1ZXJ5ICs9IGAgQU5EICh0LmlzX3BhcmNlbGVkID0gMCBPUiB0LmlzX3BhcmNlbGVkIElTIE5VTEwpIE9SREVSIEJZIHQuZGF0ZSBERVNDLCB0LmNyZWF0ZWRfYXQgREVTQ2A7XG5cbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID0gYXdhaXQgZGJNZXRob2RzLmFsbChxdWVyeSwgcGFyYW1zKSBhcyBUcmFuc2FjdGlvbltdO1xuXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih0cmFuc2FjdGlvbnMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYnVzY2FyIHRyYW5zYcOnw7VlczonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRXJybyBpbnRlcm5vIGRvIHNlcnZpZG9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgIH1cbn1cblxuLy8gUE9TVCAtIENyaWFyIHRyYW5zYcOnw6NvXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICAgICAgY29uc3QgeyBkZXNjcmlwdGlvbiwgYW1vdW50LCB0eXBlLCBjYXRlZ29yeSwgZGF0ZSwgaXNfcGFyY2VsZWQsIHRvdGFsX3BhcmNlbHMsIHBhaWQgfSA9IGJvZHk7XG5cbiAgICAgICAgaWYgKCFkZXNjcmlwdGlvbiB8fCAhYW1vdW50IHx8ICF0eXBlIHx8ICFjYXRlZ29yeSB8fCAhZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdDYW1wb3Mgb2JyaWdhdMOzcmlvcyBuw6NvIGZvcm5lY2lkb3MnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZSBmb3IgcGFyY2VsYWRvLCBjcmlhciBhcGVuYXMgYXMgcGFyY2VsYXMgKG7Do28gYSB0cmFuc2HDp8OjbyBwcmluY2lwYWwpXG4gICAgICAgIGlmIChpc19wYXJjZWxlZCAmJiB0b3RhbF9wYXJjZWxzID4gMSkge1xuICAgICAgICAgICAgY29uc3QgcGFyY2VsQW1vdW50ID0gYW1vdW50IC8gdG90YWxfcGFyY2VscztcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuXG4gICAgICAgICAgICAvLyBDcmlhciBhIHRyYW5zYcOnw6NvIHByaW5jaXBhbCBwYXJhIHJlZmVyw6puY2lhXG4gICAgICAgICAgICBjb25zdCBwYXJlbnRSZXN1bHQgPSBhd2FpdCBkYk1ldGhvZHMucnVuV2l0aElkKFxuICAgICAgICAgICAgICAgIGBJTlNFUlQgSU5UTyB0cmFuc2FjdGlvbnMgKGRlc2NyaXB0aW9uLCBhbW91bnQsIHR5cGUsIGNhdGVnb3J5LCBkYXRlLCBpc19wYXJjZWxlZCwgdG90YWxfcGFyY2VscylcbiAgICAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgMCwgPylgLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uLCBhbW91bnQsIHR5cGUsIGNhdGVnb3J5LCBkYXRlLCB0b3RhbF9wYXJjZWxzXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBwYXJlbnRJZCA9IHBhcmVudFJlc3VsdC5sYXN0SUQ7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IHRvdGFsX3BhcmNlbHM7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmNlbERhdGUgPSBuZXcgRGF0ZSh0cmFuc2FjdGlvbkRhdGUpO1xuICAgICAgICAgICAgICAgIHBhcmNlbERhdGUuc2V0TW9udGgocGFyY2VsRGF0ZS5nZXRNb250aCgpICsgKGkgLSAxKSk7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBkYk1ldGhvZHMucnVuV2l0aElkKFxuICAgICAgICAgICAgICAgICAgICBgSU5TRVJUIElOVE8gdHJhbnNhY3Rpb25zIChkZXNjcmlwdGlvbiwgYW1vdW50LCB0eXBlLCBjYXRlZ29yeSwgZGF0ZSwgaXNfcGFyY2VsZWQsIHRvdGFsX3BhcmNlbHMsIGN1cnJlbnRfcGFyY2VsLCBwYXJlbnRfdHJhbnNhY3Rpb25faWQsIHBhaWQpXG4gICAgICAgICAgIFZBTFVFUyAoPywgPywgPywgPywgPywgMSwgPywgPywgPywgPylgLFxuICAgICAgICAgICAgICAgICAgICBgJHtkZXNjcmlwdGlvbn0gKCR7aX0vJHt0b3RhbF9wYXJjZWxzfSlgLFxuICAgICAgICAgICAgICAgICAgICBwYXJjZWxBbW91bnQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICBwYXJjZWxEYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfcGFyY2VscyxcbiAgICAgICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50SWQsXG4gICAgICAgICAgICAgICAgICAgIHBhaWRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBpZDogcGFyZW50SWQsIG1lc3NhZ2U6ICdUcmFuc2HDp8OjbyBwYXJjZWxhZGEgY3JpYWRhIGNvbSBzdWNlc3NvJyB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRyYW5zYcOnw6NvIG5vcm1hbCAobsOjbyBwYXJjZWxhZGEpXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYk1ldGhvZHMucnVuV2l0aElkKFxuICAgICAgICAgICAgICAgIGBJTlNFUlQgSU5UTyB0cmFuc2FjdGlvbnMgKGRlc2NyaXB0aW9uLCBhbW91bnQsIHR5cGUsIGNhdGVnb3J5LCBkYXRlLCBpc19wYXJjZWxlZCwgdG90YWxfcGFyY2VscywgY3VycmVudF9wYXJjZWwsIHBhaWQpXG4gICAgICAgICAgICBWQUxVRVMgKD8sID8sID8sID8sID8sIDAsIDEsIDEsID8pYCxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiwgYW1vdW50LCB0eXBlLCBjYXRlZ29yeSwgZGF0ZSwgcGFpZFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25JZCA9IHJlc3VsdC5sYXN0SUQ7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBpZDogdHJhbnNhY3Rpb25JZCwgbWVzc2FnZTogJ1RyYW5zYcOnw6NvIGNyaWFkYSBjb20gc3VjZXNzbycgfSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNyaWFyIHRyYW5zYcOnw6NvOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdFcnJvIGludGVybm8gZG8gc2Vydmlkb3InIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbImRiTWV0aG9kcyIsIk5leHRSZXNwb25zZSIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJtb250aCIsImdldCIsInllYXIiLCJ0eXBlIiwicXVlcnkiLCJwYXJhbXMiLCJwdXNoIiwicGFkU3RhcnQiLCJ0cmFuc2FjdGlvbnMiLCJhbGwiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwic3RhdHVzIiwiUE9TVCIsImJvZHkiLCJkZXNjcmlwdGlvbiIsImFtb3VudCIsImNhdGVnb3J5IiwiZGF0ZSIsImlzX3BhcmNlbGVkIiwidG90YWxfcGFyY2VscyIsInBhaWQiLCJwYXJjZWxBbW91bnQiLCJ0cmFuc2FjdGlvbkRhdGUiLCJEYXRlIiwicGFyZW50UmVzdWx0IiwicnVuV2l0aElkIiwicGFyZW50SWQiLCJsYXN0SUQiLCJpIiwicGFyY2VsRGF0ZSIsInNldE1vbnRoIiwiZ2V0TW9udGgiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwiaWQiLCJtZXNzYWdlIiwicmVzdWx0IiwidHJhbnNhY3Rpb25JZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/transactions/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/database.ts":
/*!*************************!*\
  !*** ./lib/database.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbMethods: () => (/* binding */ dbMethods),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! util */ \"util\");\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst dbPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"finance.db\");\n// Garantir que o diretório existe\nconst dataDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\");\nif (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dataDir)) {\n    fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dataDir, {\n        recursive: true\n    });\n}\nconst db = new (sqlite3__WEBPACK_IMPORTED_MODULE_2___default().Database)(dbPath);\n// Promisificar métodos do sqlite3\nconst dbRun = (0,util__WEBPACK_IMPORTED_MODULE_3__.promisify)(db.run.bind(db));\nconst dbGet = (0,util__WEBPACK_IMPORTED_MODULE_3__.promisify)(db.get.bind(db));\nconst dbAll = (0,util__WEBPACK_IMPORTED_MODULE_3__.promisify)(db.all.bind(db));\nconst dbExec = (0,util__WEBPACK_IMPORTED_MODULE_3__.promisify)(db.exec.bind(db));\n// Função customizada para db.run que retorna lastID\nconst dbRunWithId = (sql, ...params)=>{\n    return new Promise((resolve, reject)=>{\n        db.run(sql, params, function(err) {\n            if (err) {\n                reject(err);\n            } else {\n                resolve({\n                    lastID: this.lastID,\n                    changes: this.changes\n                });\n            }\n        });\n    });\n};\n// Inicializar banco de dados\nconst initDatabase = async ()=>{\n    try {\n        await dbExec(`\n      CREATE TABLE IF NOT EXISTS transactions (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        description TEXT NOT NULL,\n        amount REAL NOT NULL,\n        type TEXT NOT NULL CHECK (type IN ('income', 'expense')),\n        category TEXT NOT NULL,\n        date TEXT NOT NULL,\n        is_parceled BOOLEAN DEFAULT 0,\n        total_parcels INTEGER,\n        current_parcel INTEGER,\n        parent_transaction_id INTEGER,\n        paid BOOLEAN DEFAULT 0,\n        paid_at DATETIME,\n        created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n        FOREIGN KEY (parent_transaction_id) REFERENCES transactions(id)\n      );\n\n      CREATE TABLE IF NOT EXISTS categories (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        name TEXT NOT NULL UNIQUE,\n        type TEXT NOT NULL CHECK (type IN ('income', 'expense')),\n        color TEXT DEFAULT '#3b82f6',\n        created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n      );\n\n      -- Inserir categorias padrão\n      INSERT OR IGNORE INTO categories (name, type, color) VALUES\n        ('Salário', 'income', '#22c55e'),\n        ('Freelance', 'income', '#22c55e'),\n        ('Investimentos', 'income', '#22c55e'),\n        ('Alimentação', 'expense', '#ef4444'),\n        ('Transporte', 'expense', '#ef4444'),\n        ('Moradia', 'expense', '#ef4444'),\n        ('Saúde', 'expense', '#ef4444'),\n        ('Educação', 'expense', '#ef4444'),\n        ('Lazer', 'expense', '#ef4444'),\n        ('Outros', 'expense', '#6b7280');\n    `);\n    } catch (error) {\n        console.error(\"Erro ao inicializar banco de dados:\", error);\n    }\n};\n// Inicializar o banco\ninitDatabase();\n// Adicionar campos se não existirem\nconst addMissingColumns = async ()=>{\n    try {\n        await dbExec(`ALTER TABLE transactions ADD COLUMN paid BOOLEAN DEFAULT 0`);\n    } catch (error) {\n    // Campo já existe, ignorar erro\n    }\n    try {\n        await dbExec(`ALTER TABLE transactions ADD COLUMN paid_at DATETIME`);\n    } catch (error) {\n    // Campo já existe, ignorar erro\n    }\n};\naddMissingColumns();\n// Função wrapper para db.all que aceita array de parâmetros\nconst dbAllWithParams = (sql, params = [])=>{\n    if (params.length === 0) {\n        return dbAll(sql);\n    }\n    return dbAll(sql, ...params);\n};\n// Função wrapper para db.get que aceita array de parâmetros\nconst dbGetWithParams = (sql, params = [])=>{\n    if (params.length === 0) {\n        return dbGet(sql);\n    }\n    return dbGet(sql, ...params);\n};\n// Função wrapper para db.run que aceita array de parâmetros\nconst dbRunWithParams = (sql, params = [])=>{\n    if (params.length === 0) {\n        return dbRun(sql);\n    }\n    return dbRun(sql, ...params);\n};\n// Exportar métodos promisificados\nconst dbMethods = {\n    run: dbRunWithParams,\n    runWithId: dbRunWithId,\n    get: dbGetWithParams,\n    all: dbAllWithParams,\n    exec: dbExec\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (db);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGF0YWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFvQjtBQUNJO0FBQ007QUFDRztBQUVqQyxNQUFNSSxTQUFTSCxnREFBUyxDQUFDSyxRQUFRQyxHQUFHLElBQUksUUFBUTtBQUVoRCxrQ0FBa0M7QUFDbEMsTUFBTUMsVUFBVVAsZ0RBQVMsQ0FBQ0ssUUFBUUMsR0FBRyxJQUFJO0FBQ3pDLElBQUksQ0FBQ1Asb0RBQWEsQ0FBQ1EsVUFBVTtJQUN6QlIsbURBQVksQ0FBQ1EsU0FBUztRQUFFRyxXQUFXO0lBQUs7QUFDNUM7QUFFQSxNQUFNQyxLQUFLLElBQUlWLHlEQUFnQixDQUFDRTtBQUVoQyxrQ0FBa0M7QUFDbEMsTUFBTVUsUUFBUVgsK0NBQVNBLENBQUNTLEdBQUdHLEdBQUcsQ0FBQ0MsSUFBSSxDQUFDSjtBQUNwQyxNQUFNSyxRQUFRZCwrQ0FBU0EsQ0FBQ1MsR0FBR00sR0FBRyxDQUFDRixJQUFJLENBQUNKO0FBQ3BDLE1BQU1PLFFBQVFoQiwrQ0FBU0EsQ0FBQ1MsR0FBR1EsR0FBRyxDQUFDSixJQUFJLENBQUNKO0FBQ3BDLE1BQU1TLFNBQVNsQiwrQ0FBU0EsQ0FBQ1MsR0FBR1UsSUFBSSxDQUFDTixJQUFJLENBQUNKO0FBRXRDLG9EQUFvRDtBQUNwRCxNQUFNVyxjQUFjLENBQUNDLEtBQWEsR0FBR0M7SUFDakMsT0FBTyxJQUFJQyxRQUFRLENBQUNDLFNBQVNDO1FBQ3pCaEIsR0FBR0csR0FBRyxDQUFDUyxLQUFLQyxRQUFRLFNBQVVJLEdBQUc7WUFDN0IsSUFBSUEsS0FBSztnQkFDTEQsT0FBT0M7WUFDWCxPQUFPO2dCQUNIRixRQUFRO29CQUFFRyxRQUFRLElBQUksQ0FBQ0EsTUFBTTtvQkFBRUMsU0FBUyxJQUFJLENBQUNBLE9BQU87Z0JBQUM7WUFDekQ7UUFDSjtJQUNKO0FBQ0o7QUFFQSw2QkFBNkI7QUFDN0IsTUFBTUMsZUFBZTtJQUNqQixJQUFJO1FBQ0EsTUFBTVgsT0FBTyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQXNDbEIsQ0FBQztJQUNELEVBQUUsT0FBT1ksT0FBTztRQUNaQyxRQUFRRCxLQUFLLENBQUMsdUNBQXVDQTtJQUN6RDtBQUNKO0FBRUEsc0JBQXNCO0FBQ3RCRDtBQUVBLG9DQUFvQztBQUNwQyxNQUFNRyxvQkFBb0I7SUFDdEIsSUFBSTtRQUNBLE1BQU1kLE9BQU8sQ0FBQywwREFBMEQsQ0FBQztJQUM3RSxFQUFFLE9BQU9ZLE9BQU87SUFDWixnQ0FBZ0M7SUFDcEM7SUFFQSxJQUFJO1FBQ0EsTUFBTVosT0FBTyxDQUFDLG9EQUFvRCxDQUFDO0lBQ3ZFLEVBQUUsT0FBT1ksT0FBTztJQUNaLGdDQUFnQztJQUNwQztBQUNKO0FBRUFFO0FBRUEsNERBQTREO0FBQzVELE1BQU1DLGtCQUFrQixDQUFDWixLQUFhQyxTQUFnQixFQUFFO0lBQ3BELElBQUlBLE9BQU9ZLE1BQU0sS0FBSyxHQUFHO1FBQ3JCLE9BQU9sQixNQUFNSztJQUNqQjtJQUNBLE9BQU8sTUFBZUEsUUFBUUM7QUFDbEM7QUFFQSw0REFBNEQ7QUFDNUQsTUFBTWEsa0JBQWtCLENBQUNkLEtBQWFDLFNBQWdCLEVBQUU7SUFDcEQsSUFBSUEsT0FBT1ksTUFBTSxLQUFLLEdBQUc7UUFDckIsT0FBT3BCLE1BQU1PO0lBQ2pCO0lBQ0EsT0FBTyxNQUFlQSxRQUFRQztBQUNsQztBQUVBLDREQUE0RDtBQUM1RCxNQUFNYyxrQkFBa0IsQ0FBQ2YsS0FBYUMsU0FBZ0IsRUFBRTtJQUNwRCxJQUFJQSxPQUFPWSxNQUFNLEtBQUssR0FBRztRQUNyQixPQUFPdkIsTUFBTVU7SUFDakI7SUFDQSxPQUFPLE1BQWVBLFFBQVFDO0FBQ2xDO0FBRUEsa0NBQWtDO0FBQzNCLE1BQU1lLFlBQVk7SUFDckJ6QixLQUFLd0I7SUFDTEUsV0FBV2xCO0lBQ1hMLEtBQUtvQjtJQUNMbEIsS0FBS2dCO0lBQ0xkLE1BQU1EO0FBQ1YsRUFBRTtBQUVGLGlFQUFlVCxFQUFFQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29udHJvbGUtZmluYW5jZWlyby1tb2JpbGUvLi9saWIvZGF0YWJhc2UudHM/NGQ0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgc3FsaXRlMyBmcm9tICdzcWxpdGUzJztcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gJ3V0aWwnO1xuXG5jb25zdCBkYlBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnLCAnZmluYW5jZS5kYicpO1xuXG4vLyBHYXJhbnRpciBxdWUgbyBkaXJldMOzcmlvIGV4aXN0ZVxuY29uc3QgZGF0YURpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScpO1xuaWYgKCFmcy5leGlzdHNTeW5jKGRhdGFEaXIpKSB7XG4gICAgZnMubWtkaXJTeW5jKGRhdGFEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xufVxuXG5jb25zdCBkYiA9IG5ldyBzcWxpdGUzLkRhdGFiYXNlKGRiUGF0aCk7XG5cbi8vIFByb21pc2lmaWNhciBtw6l0b2RvcyBkbyBzcWxpdGUzXG5jb25zdCBkYlJ1biA9IHByb21pc2lmeShkYi5ydW4uYmluZChkYikpO1xuY29uc3QgZGJHZXQgPSBwcm9taXNpZnkoZGIuZ2V0LmJpbmQoZGIpKTtcbmNvbnN0IGRiQWxsID0gcHJvbWlzaWZ5KGRiLmFsbC5iaW5kKGRiKSk7XG5jb25zdCBkYkV4ZWMgPSBwcm9taXNpZnkoZGIuZXhlYy5iaW5kKGRiKSk7XG5cbi8vIEZ1bsOnw6NvIGN1c3RvbWl6YWRhIHBhcmEgZGIucnVuIHF1ZSByZXRvcm5hIGxhc3RJRFxuY29uc3QgZGJSdW5XaXRoSWQgPSAoc3FsOiBzdHJpbmcsIC4uLnBhcmFtczogYW55W10pOiBQcm9taXNlPHsgbGFzdElEOiBudW1iZXI7IGNoYW5nZXM6IG51bWJlciB9PiA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgZGIucnVuKHNxbCwgcGFyYW1zLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeyBsYXN0SUQ6IHRoaXMubGFzdElELCBjaGFuZ2VzOiB0aGlzLmNoYW5nZXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuLy8gSW5pY2lhbGl6YXIgYmFuY28gZGUgZGFkb3NcbmNvbnN0IGluaXREYXRhYmFzZSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBkYkV4ZWMoYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdHJhbnNhY3Rpb25zIChcbiAgICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgICBkZXNjcmlwdGlvbiBURVhUIE5PVCBOVUxMLFxuICAgICAgICBhbW91bnQgUkVBTCBOT1QgTlVMTCxcbiAgICAgICAgdHlwZSBURVhUIE5PVCBOVUxMIENIRUNLICh0eXBlIElOICgnaW5jb21lJywgJ2V4cGVuc2UnKSksXG4gICAgICAgIGNhdGVnb3J5IFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGRhdGUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgaXNfcGFyY2VsZWQgQk9PTEVBTiBERUZBVUxUIDAsXG4gICAgICAgIHRvdGFsX3BhcmNlbHMgSU5URUdFUixcbiAgICAgICAgY3VycmVudF9wYXJjZWwgSU5URUdFUixcbiAgICAgICAgcGFyZW50X3RyYW5zYWN0aW9uX2lkIElOVEVHRVIsXG4gICAgICAgIHBhaWQgQk9PTEVBTiBERUZBVUxUIDAsXG4gICAgICAgIHBhaWRfYXQgREFURVRJTUUsXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgRk9SRUlHTiBLRVkgKHBhcmVudF90cmFuc2FjdGlvbl9pZCkgUkVGRVJFTkNFUyB0cmFuc2FjdGlvbnMoaWQpXG4gICAgICApO1xuXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBjYXRlZ29yaWVzIChcbiAgICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgICBuYW1lIFRFWFQgTk9UIE5VTEwgVU5JUVVFLFxuICAgICAgICB0eXBlIFRFWFQgTk9UIE5VTEwgQ0hFQ0sgKHR5cGUgSU4gKCdpbmNvbWUnLCAnZXhwZW5zZScpKSxcbiAgICAgICAgY29sb3IgVEVYVCBERUZBVUxUICcjM2I4MmY2JyxcbiAgICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXG4gICAgICApO1xuXG4gICAgICAtLSBJbnNlcmlyIGNhdGVnb3JpYXMgcGFkcsOjb1xuICAgICAgSU5TRVJUIE9SIElHTk9SRSBJTlRPIGNhdGVnb3JpZXMgKG5hbWUsIHR5cGUsIGNvbG9yKSBWQUxVRVNcbiAgICAgICAgKCdTYWzDoXJpbycsICdpbmNvbWUnLCAnIzIyYzU1ZScpLFxuICAgICAgICAoJ0ZyZWVsYW5jZScsICdpbmNvbWUnLCAnIzIyYzU1ZScpLFxuICAgICAgICAoJ0ludmVzdGltZW50b3MnLCAnaW5jb21lJywgJyMyMmM1NWUnKSxcbiAgICAgICAgKCdBbGltZW50YcOnw6NvJywgJ2V4cGVuc2UnLCAnI2VmNDQ0NCcpLFxuICAgICAgICAoJ1RyYW5zcG9ydGUnLCAnZXhwZW5zZScsICcjZWY0NDQ0JyksXG4gICAgICAgICgnTW9yYWRpYScsICdleHBlbnNlJywgJyNlZjQ0NDQnKSxcbiAgICAgICAgKCdTYcO6ZGUnLCAnZXhwZW5zZScsICcjZWY0NDQ0JyksXG4gICAgICAgICgnRWR1Y2HDp8OjbycsICdleHBlbnNlJywgJyNlZjQ0NDQnKSxcbiAgICAgICAgKCdMYXplcicsICdleHBlbnNlJywgJyNlZjQ0NDQnKSxcbiAgICAgICAgKCdPdXRyb3MnLCAnZXhwZW5zZScsICcjNmI3MjgwJyk7XG4gICAgYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBpbmljaWFsaXphciBiYW5jbyBkZSBkYWRvczonLCBlcnJvcik7XG4gICAgfVxufTtcblxuLy8gSW5pY2lhbGl6YXIgbyBiYW5jb1xuaW5pdERhdGFiYXNlKCk7XG5cbi8vIEFkaWNpb25hciBjYW1wb3Mgc2UgbsOjbyBleGlzdGlyZW1cbmNvbnN0IGFkZE1pc3NpbmdDb2x1bW5zID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRiRXhlYyhgQUxURVIgVEFCTEUgdHJhbnNhY3Rpb25zIEFERCBDT0xVTU4gcGFpZCBCT09MRUFOIERFRkFVTFQgMGApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIENhbXBvIGrDoSBleGlzdGUsIGlnbm9yYXIgZXJyb1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRiRXhlYyhgQUxURVIgVEFCTEUgdHJhbnNhY3Rpb25zIEFERCBDT0xVTU4gcGFpZF9hdCBEQVRFVElNRWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIENhbXBvIGrDoSBleGlzdGUsIGlnbm9yYXIgZXJyb1xuICAgIH1cbn07XG5cbmFkZE1pc3NpbmdDb2x1bW5zKCk7XG5cbi8vIEZ1bsOnw6NvIHdyYXBwZXIgcGFyYSBkYi5hbGwgcXVlIGFjZWl0YSBhcnJheSBkZSBwYXLDom1ldHJvc1xuY29uc3QgZGJBbGxXaXRoUGFyYW1zID0gKHNxbDogc3RyaW5nLCBwYXJhbXM6IGFueVtdID0gW10pID0+IHtcbiAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGJBbGwoc3FsKTtcbiAgICB9XG4gICAgcmV0dXJuIChkYkFsbCBhcyBhbnkpKHNxbCwgLi4ucGFyYW1zKTtcbn07XG5cbi8vIEZ1bsOnw6NvIHdyYXBwZXIgcGFyYSBkYi5nZXQgcXVlIGFjZWl0YSBhcnJheSBkZSBwYXLDom1ldHJvc1xuY29uc3QgZGJHZXRXaXRoUGFyYW1zID0gKHNxbDogc3RyaW5nLCBwYXJhbXM6IGFueVtdID0gW10pID0+IHtcbiAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGJHZXQoc3FsKTtcbiAgICB9XG4gICAgcmV0dXJuIChkYkdldCBhcyBhbnkpKHNxbCwgLi4ucGFyYW1zKTtcbn07XG5cbi8vIEZ1bsOnw6NvIHdyYXBwZXIgcGFyYSBkYi5ydW4gcXVlIGFjZWl0YSBhcnJheSBkZSBwYXLDom1ldHJvc1xuY29uc3QgZGJSdW5XaXRoUGFyYW1zID0gKHNxbDogc3RyaW5nLCBwYXJhbXM6IGFueVtdID0gW10pID0+IHtcbiAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGJSdW4oc3FsKTtcbiAgICB9XG4gICAgcmV0dXJuIChkYlJ1biBhcyBhbnkpKHNxbCwgLi4ucGFyYW1zKTtcbn07XG5cbi8vIEV4cG9ydGFyIG3DqXRvZG9zIHByb21pc2lmaWNhZG9zXG5leHBvcnQgY29uc3QgZGJNZXRob2RzID0ge1xuICAgIHJ1bjogZGJSdW5XaXRoUGFyYW1zLFxuICAgIHJ1bldpdGhJZDogZGJSdW5XaXRoSWQsXG4gICAgZ2V0OiBkYkdldFdpdGhQYXJhbXMsXG4gICAgYWxsOiBkYkFsbFdpdGhQYXJhbXMsXG4gICAgZXhlYzogZGJFeGVjXG59O1xuXG5leHBvcnQgZGVmYXVsdCBkYjtcbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJzcWxpdGUzIiwicHJvbWlzaWZ5IiwiZGJQYXRoIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJkYXRhRGlyIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImRiIiwiRGF0YWJhc2UiLCJkYlJ1biIsInJ1biIsImJpbmQiLCJkYkdldCIsImdldCIsImRiQWxsIiwiYWxsIiwiZGJFeGVjIiwiZXhlYyIsImRiUnVuV2l0aElkIiwic3FsIiwicGFyYW1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnIiLCJsYXN0SUQiLCJjaGFuZ2VzIiwiaW5pdERhdGFiYXNlIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkTWlzc2luZ0NvbHVtbnMiLCJkYkFsbFdpdGhQYXJhbXMiLCJsZW5ndGgiLCJkYkdldFdpdGhQYXJhbXMiLCJkYlJ1bldpdGhQYXJhbXMiLCJkYk1ldGhvZHMiLCJydW5XaXRoSWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftransactions%2Froute&page=%2Fapi%2Ftransactions%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftransactions%2Froute.ts&appDir=%2Fmedia%2Fa%2Fexec%2Flab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fa%2Fexec%2Flab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();