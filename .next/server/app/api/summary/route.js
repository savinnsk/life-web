"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/summary/route";
exports.ids = ["app/api/summary/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "sqlite3":
/*!**************************!*\
  !*** external "sqlite3" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("sqlite3");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsummary%2Froute&page=%2Fapi%2Fsummary%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsummary%2Froute.ts&appDir=%2Fmedia%2Fa%2Fexec%2Flab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fa%2Fexec%2Flab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsummary%2Froute&page=%2Fapi%2Fsummary%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsummary%2Froute.ts&appDir=%2Fmedia%2Fa%2Fexec%2Flab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fa%2Fexec%2Flab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _media_a_exec_lab_app_api_summary_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/summary/route.ts */ \"(rsc)/./app/api/summary/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/summary/route\",\n        pathname: \"/api/summary\",\n        filename: \"route\",\n        bundlePath: \"app/api/summary/route\"\n    },\n    resolvedPagePath: \"/media/a/exec/lab/app/api/summary/route.ts\",\n    nextConfigOutput,\n    userland: _media_a_exec_lab_app_api_summary_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/summary/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdW1tYXJ5JTJGcm91dGUmcGFnZT0lMkZhcGklMkZzdW1tYXJ5JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc3VtbWFyeSUyRnJvdXRlLnRzJmFwcERpcj0lMkZtZWRpYSUyRmElMkZleGVjJTJGbGFiJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZtZWRpYSUyRmElMkZleGVjJTJGbGFiJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ047QUFDdkU7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb250cm9sZS1maW5hbmNlaXJvLW1vYmlsZS8/YjQ1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvbWVkaWEvYS9leGVjL2xhYi9hcHAvYXBpL3N1bW1hcnkvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N1bW1hcnkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zdW1tYXJ5XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9zdW1tYXJ5L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL21lZGlhL2EvZXhlYy9sYWIvYXBwL2FwaS9zdW1tYXJ5L3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3N1bW1hcnkvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsummary%2Froute&page=%2Fapi%2Fsummary%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsummary%2Froute.ts&appDir=%2Fmedia%2Fa%2Fexec%2Flab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fa%2Fexec%2Flab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/summary/route.ts":
/*!**********************************!*\
  !*** ./app/api/summary/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./lib/database.ts\");\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\n\n// GET - Resumo mensal\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const month = searchParams.get(\"month\");\n        const year = searchParams.get(\"year\");\n        if (!month || !year) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n                error: \"M\\xeas e ano s\\xe3o obrigat\\xf3rios\"\n            }, {\n                status: 400\n            });\n        }\n        // Resumo do mês\n        const monthlySummary = await _lib_database__WEBPACK_IMPORTED_MODULE_0__.dbMethods.all(`SELECT\n        type,\n        SUM(amount) as total,\n        COUNT(*) as count\n      FROM transactions\n      WHERE strftime('%m', date) = ? AND strftime('%Y', date) = ?\n      GROUP BY type`, [\n            month.padStart(2, \"0\"),\n            year\n        ]);\n        const income = monthlySummary.find((s)=>s.type === \"income\")?.total || 0;\n        const expense = monthlySummary.find((s)=>s.type === \"expense\")?.total || 0;\n        const incomeCount = monthlySummary.find((s)=>s.type === \"income\")?.count || 0;\n        const expenseCount = monthlySummary.find((s)=>s.type === \"expense\")?.count || 0;\n        // Transações parceladas pendentes\n        const pendingParcels = await _lib_database__WEBPACK_IMPORTED_MODULE_0__.dbMethods.all(`SELECT\n        parent_transaction_id,\n        description,\n        total_parcels,\n        current_parcel,\n        amount,\n        date,\n        type,\n        category\n      FROM transactions\n      WHERE is_parceled = 1 AND parent_transaction_id IS NOT NULL\n      AND date >= date('now')\n      ORDER BY date ASC`, []);\n        // Categorias mais gastas\n        const topCategories = await _lib_database__WEBPACK_IMPORTED_MODULE_0__.dbMethods.all(`SELECT\n        category,\n        SUM(amount) as total,\n        COUNT(*) as count\n      FROM transactions\n      WHERE type = 'expense'\n      AND strftime('%m', date) = ? AND strftime('%Y', date) = ?\n      GROUP BY category\n      ORDER BY total DESC\n      LIMIT 5`, [\n            month.padStart(2, \"0\"),\n            year\n        ]);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n            summary: {\n                month: parseInt(month),\n                year: parseInt(year),\n                totalIncome: income,\n                totalExpense: expense,\n                balance: income - expense,\n                incomeCount,\n                expenseCount,\n                transactionCount: incomeCount + expenseCount\n            },\n            pendingParcels,\n            topCategories\n        });\n    } catch (error) {\n        console.error(\"Erro ao buscar resumo:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n            error: \"Erro interno do servidor\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3N1bW1hcnkvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQ2E7QUFFeEQsc0JBQXNCO0FBQ2YsZUFBZUUsSUFBSUMsT0FBb0I7SUFDMUMsSUFBSTtRQUNBLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSUYsUUFBUUcsR0FBRztRQUM1QyxNQUFNQyxRQUFRSCxhQUFhSSxHQUFHLENBQUM7UUFDL0IsTUFBTUMsT0FBT0wsYUFBYUksR0FBRyxDQUFDO1FBRTlCLElBQUksQ0FBQ0QsU0FBUyxDQUFDRSxNQUFNO1lBQ2pCLE9BQU9SLGtGQUFZQSxDQUFDUyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBNkIsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3BGO1FBRUEsZ0JBQWdCO1FBQ2hCLE1BQU1DLGlCQUFpQixNQUFNYixvREFBU0EsQ0FBQ2MsR0FBRyxDQUN0QyxDQUFDOzs7Ozs7bUJBTU0sQ0FBQyxFQUNSO1lBQUNQLE1BQU1RLFFBQVEsQ0FBQyxHQUFHO1lBQU1OO1NBQUs7UUFHbEMsTUFBTU8sU0FBU0gsZUFBZUksSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxJQUFJLEtBQUssV0FBV0MsU0FBUztRQUN2RSxNQUFNQyxVQUFVUixlQUFlSSxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLElBQUksS0FBSyxZQUFZQyxTQUFTO1FBQ3pFLE1BQU1FLGNBQWNULGVBQWVJLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsSUFBSSxLQUFLLFdBQVdJLFNBQVM7UUFDNUUsTUFBTUMsZUFBZVgsZUFBZUksSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxJQUFJLEtBQUssWUFBWUksU0FBUztRQUU5RSxrQ0FBa0M7UUFDbEMsTUFBTUUsaUJBQWlCLE1BQU16QixvREFBU0EsQ0FBQ2MsR0FBRyxDQUN0QyxDQUFDOzs7Ozs7Ozs7Ozs7dUJBWVUsQ0FBQyxFQUNaLEVBQUU7UUFHTix5QkFBeUI7UUFDekIsTUFBTVksZ0JBQWdCLE1BQU0xQixvREFBU0EsQ0FBQ2MsR0FBRyxDQUNyQyxDQUFDOzs7Ozs7Ozs7YUFTQSxDQUFDLEVBQ0Y7WUFBQ1AsTUFBTVEsUUFBUSxDQUFDLEdBQUc7WUFBTU47U0FBSztRQUdsQyxPQUFPUixrRkFBWUEsQ0FBQ1MsSUFBSSxDQUFDO1lBQ3JCaUIsU0FBUztnQkFDTHBCLE9BQU9xQixTQUFTckI7Z0JBQ2hCRSxNQUFNbUIsU0FBU25CO2dCQUNmb0IsYUFBYWI7Z0JBQ2JjLGNBQWNUO2dCQUNkVSxTQUFTZixTQUFTSztnQkFDbEJDO2dCQUNBRTtnQkFDQVEsa0JBQWtCVixjQUFjRTtZQUNwQztZQUNBQztZQUNBQztRQUNKO0lBQ0osRUFBRSxPQUFPZixPQUFPO1FBQ1pzQixRQUFRdEIsS0FBSyxDQUFDLDBCQUEwQkE7UUFDeEMsT0FBT1Ysa0ZBQVlBLENBQUNTLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQTJCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ2xGO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb250cm9sZS1maW5hbmNlaXJvLW1vYmlsZS8uL2FwcC9hcGkvc3VtbWFyeS9yb3V0ZS50cz9iODRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiTWV0aG9kcyB9IGZyb20gJ0AvbGliL2RhdGFiYXNlJztcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5cbi8vIEdFVCAtIFJlc3VtbyBtZW5zYWxcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICAgIGNvbnN0IG1vbnRoID0gc2VhcmNoUGFyYW1zLmdldCgnbW9udGgnKTtcbiAgICAgICAgY29uc3QgeWVhciA9IHNlYXJjaFBhcmFtcy5nZXQoJ3llYXInKTtcblxuICAgICAgICBpZiAoIW1vbnRoIHx8ICF5ZWFyKSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ03DqnMgZSBhbm8gc8OjbyBvYnJpZ2F0w7NyaW9zJyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVzdW1vIGRvIG3DqnNcbiAgICAgICAgY29uc3QgbW9udGhseVN1bW1hcnkgPSBhd2FpdCBkYk1ldGhvZHMuYWxsKFxuICAgICAgICAgICAgYFNFTEVDVFxuICAgICAgICB0eXBlLFxuICAgICAgICBTVU0oYW1vdW50KSBhcyB0b3RhbCxcbiAgICAgICAgQ09VTlQoKikgYXMgY291bnRcbiAgICAgIEZST00gdHJhbnNhY3Rpb25zXG4gICAgICBXSEVSRSBzdHJmdGltZSgnJW0nLCBkYXRlKSA9ID8gQU5EIHN0cmZ0aW1lKCclWScsIGRhdGUpID0gP1xuICAgICAgR1JPVVAgQlkgdHlwZWAsXG4gICAgICAgICAgICBbbW9udGgucGFkU3RhcnQoMiwgJzAnKSwgeWVhcl1cbiAgICAgICAgKSBhcyBBcnJheTx7IHR5cGU6IHN0cmluZzsgdG90YWw6IG51bWJlcjsgY291bnQ6IG51bWJlciB9PjtcblxuICAgICAgICBjb25zdCBpbmNvbWUgPSBtb250aGx5U3VtbWFyeS5maW5kKHMgPT4gcy50eXBlID09PSAnaW5jb21lJyk/LnRvdGFsIHx8IDA7XG4gICAgICAgIGNvbnN0IGV4cGVuc2UgPSBtb250aGx5U3VtbWFyeS5maW5kKHMgPT4gcy50eXBlID09PSAnZXhwZW5zZScpPy50b3RhbCB8fCAwO1xuICAgICAgICBjb25zdCBpbmNvbWVDb3VudCA9IG1vbnRobHlTdW1tYXJ5LmZpbmQocyA9PiBzLnR5cGUgPT09ICdpbmNvbWUnKT8uY291bnQgfHwgMDtcbiAgICAgICAgY29uc3QgZXhwZW5zZUNvdW50ID0gbW9udGhseVN1bW1hcnkuZmluZChzID0+IHMudHlwZSA9PT0gJ2V4cGVuc2UnKT8uY291bnQgfHwgMDtcblxuICAgICAgICAvLyBUcmFuc2HDp8O1ZXMgcGFyY2VsYWRhcyBwZW5kZW50ZXNcbiAgICAgICAgY29uc3QgcGVuZGluZ1BhcmNlbHMgPSBhd2FpdCBkYk1ldGhvZHMuYWxsKFxuICAgICAgICAgICAgYFNFTEVDVFxuICAgICAgICBwYXJlbnRfdHJhbnNhY3Rpb25faWQsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICB0b3RhbF9wYXJjZWxzLFxuICAgICAgICBjdXJyZW50X3BhcmNlbCxcbiAgICAgICAgYW1vdW50LFxuICAgICAgICBkYXRlLFxuICAgICAgICB0eXBlLFxuICAgICAgICBjYXRlZ29yeVxuICAgICAgRlJPTSB0cmFuc2FjdGlvbnNcbiAgICAgIFdIRVJFIGlzX3BhcmNlbGVkID0gMSBBTkQgcGFyZW50X3RyYW5zYWN0aW9uX2lkIElTIE5PVCBOVUxMXG4gICAgICBBTkQgZGF0ZSA+PSBkYXRlKCdub3cnKVxuICAgICAgT1JERVIgQlkgZGF0ZSBBU0NgLFxuICAgICAgICAgICAgW11cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBDYXRlZ29yaWFzIG1haXMgZ2FzdGFzXG4gICAgICAgIGNvbnN0IHRvcENhdGVnb3JpZXMgPSBhd2FpdCBkYk1ldGhvZHMuYWxsKFxuICAgICAgICAgICAgYFNFTEVDVFxuICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgU1VNKGFtb3VudCkgYXMgdG90YWwsXG4gICAgICAgIENPVU5UKCopIGFzIGNvdW50XG4gICAgICBGUk9NIHRyYW5zYWN0aW9uc1xuICAgICAgV0hFUkUgdHlwZSA9ICdleHBlbnNlJ1xuICAgICAgQU5EIHN0cmZ0aW1lKCclbScsIGRhdGUpID0gPyBBTkQgc3RyZnRpbWUoJyVZJywgZGF0ZSkgPSA/XG4gICAgICBHUk9VUCBCWSBjYXRlZ29yeVxuICAgICAgT1JERVIgQlkgdG90YWwgREVTQ1xuICAgICAgTElNSVQgNWAsXG4gICAgICAgICAgICBbbW9udGgucGFkU3RhcnQoMiwgJzAnKSwgeWVhcl1cbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgc3VtbWFyeToge1xuICAgICAgICAgICAgICAgIG1vbnRoOiBwYXJzZUludChtb250aCksXG4gICAgICAgICAgICAgICAgeWVhcjogcGFyc2VJbnQoeWVhciksXG4gICAgICAgICAgICAgICAgdG90YWxJbmNvbWU6IGluY29tZSxcbiAgICAgICAgICAgICAgICB0b3RhbEV4cGVuc2U6IGV4cGVuc2UsXG4gICAgICAgICAgICAgICAgYmFsYW5jZTogaW5jb21lIC0gZXhwZW5zZSxcbiAgICAgICAgICAgICAgICBpbmNvbWVDb3VudCxcbiAgICAgICAgICAgICAgICBleHBlbnNlQ291bnQsXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25Db3VudDogaW5jb21lQ291bnQgKyBleHBlbnNlQ291bnRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZW5kaW5nUGFyY2VscyxcbiAgICAgICAgICAgIHRvcENhdGVnb3JpZXNcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBidXNjYXIgcmVzdW1vOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdFcnJvIGludGVybm8gZG8gc2Vydmlkb3InIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbImRiTWV0aG9kcyIsIk5leHRSZXNwb25zZSIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJtb250aCIsImdldCIsInllYXIiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJtb250aGx5U3VtbWFyeSIsImFsbCIsInBhZFN0YXJ0IiwiaW5jb21lIiwiZmluZCIsInMiLCJ0eXBlIiwidG90YWwiLCJleHBlbnNlIiwiaW5jb21lQ291bnQiLCJjb3VudCIsImV4cGVuc2VDb3VudCIsInBlbmRpbmdQYXJjZWxzIiwidG9wQ2F0ZWdvcmllcyIsInN1bW1hcnkiLCJwYXJzZUludCIsInRvdGFsSW5jb21lIiwidG90YWxFeHBlbnNlIiwiYmFsYW5jZSIsInRyYW5zYWN0aW9uQ291bnQiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/summary/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/database.ts":
/*!*************************!*\
  !*** ./lib/database.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbMethods: () => (/* binding */ dbMethods),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! util */ \"util\");\n/* harmony import */ var util__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst dbPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"finance.db\");\n// Garantir que o diretório existe\nconst dataDir = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\");\nif (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dataDir)) {\n    fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dataDir, {\n        recursive: true\n    });\n}\nconst db = new (sqlite3__WEBPACK_IMPORTED_MODULE_2___default().Database)(dbPath);\n// Promisificar métodos do sqlite3\nconst dbRun = (0,util__WEBPACK_IMPORTED_MODULE_3__.promisify)(db.run.bind(db));\nconst dbGet = (0,util__WEBPACK_IMPORTED_MODULE_3__.promisify)(db.get.bind(db));\nconst dbAll = (0,util__WEBPACK_IMPORTED_MODULE_3__.promisify)(db.all.bind(db));\nconst dbExec = (0,util__WEBPACK_IMPORTED_MODULE_3__.promisify)(db.exec.bind(db));\n// Função customizada para db.run que retorna lastID\nconst dbRunWithId = (sql, ...params)=>{\n    return new Promise((resolve, reject)=>{\n        db.run(sql, params, function(err) {\n            if (err) {\n                reject(err);\n            } else {\n                resolve({\n                    lastID: this.lastID,\n                    changes: this.changes\n                });\n            }\n        });\n    });\n};\n// Inicializar banco de dados\nconst initDatabase = async ()=>{\n    try {\n        await dbExec(`\n      CREATE TABLE IF NOT EXISTS transactions (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        description TEXT NOT NULL,\n        amount REAL NOT NULL,\n        type TEXT NOT NULL CHECK (type IN ('income', 'expense')),\n        category TEXT NOT NULL,\n        date TEXT NOT NULL,\n        is_parceled BOOLEAN DEFAULT 0,\n        total_parcels INTEGER,\n        current_parcel INTEGER,\n        parent_transaction_id INTEGER,\n        paid BOOLEAN DEFAULT 0,\n        paid_at DATETIME,\n        created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n        FOREIGN KEY (parent_transaction_id) REFERENCES transactions(id)\n      );\n\n      CREATE TABLE IF NOT EXISTS categories (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        name TEXT NOT NULL UNIQUE,\n        type TEXT NOT NULL CHECK (type IN ('income', 'expense')),\n        color TEXT DEFAULT '#3b82f6',\n        created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n      );\n\n      -- Inserir categorias padrão\n      INSERT OR IGNORE INTO categories (name, type, color) VALUES\n        ('Salário', 'income', '#22c55e'),\n        ('Freelance', 'income', '#22c55e'),\n        ('Investimentos', 'income', '#22c55e'),\n        ('Alimentação', 'expense', '#ef4444'),\n        ('Transporte', 'expense', '#ef4444'),\n        ('Moradia', 'expense', '#ef4444'),\n        ('Saúde', 'expense', '#ef4444'),\n        ('Educação', 'expense', '#ef4444'),\n        ('Lazer', 'expense', '#ef4444'),\n        ('Outros', 'expense', '#6b7280');\n    `);\n    } catch (error) {\n        console.error(\"Erro ao inicializar banco de dados:\", error);\n    }\n};\n// Inicializar o banco\ninitDatabase();\n// Adicionar campos se não existirem\nconst addMissingColumns = async ()=>{\n    try {\n        await dbExec(`ALTER TABLE transactions ADD COLUMN paid BOOLEAN DEFAULT 0`);\n    } catch (error) {\n    // Campo já existe, ignorar erro\n    }\n    try {\n        await dbExec(`ALTER TABLE transactions ADD COLUMN paid_at DATETIME`);\n    } catch (error) {\n    // Campo já existe, ignorar erro\n    }\n};\naddMissingColumns();\n// Função wrapper para db.all que aceita array de parâmetros\nconst dbAllWithParams = (sql, params = [])=>{\n    if (params.length === 0) {\n        return dbAll(sql);\n    }\n    return dbAll(sql, ...params);\n};\n// Função wrapper para db.get que aceita array de parâmetros\nconst dbGetWithParams = (sql, params = [])=>{\n    if (params.length === 0) {\n        return dbGet(sql);\n    }\n    return dbGet(sql, ...params);\n};\n// Função wrapper para db.run que aceita array de parâmetros\nconst dbRunWithParams = (sql, params = [])=>{\n    if (params.length === 0) {\n        return dbRun(sql);\n    }\n    return dbRun(sql, ...params);\n};\n// Exportar métodos promisificados\nconst dbMethods = {\n    run: dbRunWithParams,\n    runWithId: dbRunWithId,\n    get: dbGetWithParams,\n    all: dbAllWithParams,\n    exec: dbExec\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (db);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Oi8vY29udHJvbGUtZmluYW5jZWlyby1tb2JpbGUvLi9saWIvZGF0YWJhc2UudHM/NGQ0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgc3FsaXRlMyBmcm9tICdzcWxpdGUzJztcbmltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gJ3V0aWwnO1xuXG5jb25zdCBkYlBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnLCAnZmluYW5jZS5kYicpO1xuXG4vLyBHYXJhbnRpciBxdWUgbyBkaXJldMOzcmlvIGV4aXN0ZVxuY29uc3QgZGF0YURpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScpO1xuaWYgKCFmcy5leGlzdHNTeW5jKGRhdGFEaXIpKSB7XG4gICAgZnMubWtkaXJTeW5jKGRhdGFEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xufVxuXG5jb25zdCBkYiA9IG5ldyBzcWxpdGUzLkRhdGFiYXNlKGRiUGF0aCk7XG5cbi8vIFByb21pc2lmaWNhciBtw6l0b2RvcyBkbyBzcWxpdGUzXG5jb25zdCBkYlJ1biA9IHByb21pc2lmeShkYi5ydW4uYmluZChkYikpO1xuY29uc3QgZGJHZXQgPSBwcm9taXNpZnkoZGIuZ2V0LmJpbmQoZGIpKTtcbmNvbnN0IGRiQWxsID0gcHJvbWlzaWZ5KGRiLmFsbC5iaW5kKGRiKSk7XG5jb25zdCBkYkV4ZWMgPSBwcm9taXNpZnkoZGIuZXhlYy5iaW5kKGRiKSk7XG5cbi8vIEZ1bsOnw6NvIGN1c3RvbWl6YWRhIHBhcmEgZGIucnVuIHF1ZSByZXRvcm5hIGxhc3RJRFxuY29uc3QgZGJSdW5XaXRoSWQgPSAoc3FsOiBzdHJpbmcsIC4uLnBhcmFtczogYW55W10pOiBQcm9taXNlPHsgbGFzdElEOiBudW1iZXI7IGNoYW5nZXM6IG51bWJlciB9PiA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgZGIucnVuKHNxbCwgcGFyYW1zLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeyBsYXN0SUQ6IHRoaXMubGFzdElELCBjaGFuZ2VzOiB0aGlzLmNoYW5nZXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuLy8gSW5pY2lhbGl6YXIgYmFuY28gZGUgZGFkb3NcbmNvbnN0IGluaXREYXRhYmFzZSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBkYkV4ZWMoYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdHJhbnNhY3Rpb25zIChcbiAgICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgICBkZXNjcmlwdGlvbiBURVhUIE5PVCBOVUxMLFxuICAgICAgICBhbW91bnQgUkVBTCBOT1QgTlVMTCxcbiAgICAgICAgdHlwZSBURVhUIE5PVCBOVUxMIENIRUNLICh0eXBlIElOICgnaW5jb21lJywgJ2V4cGVuc2UnKSksXG4gICAgICAgIGNhdGVnb3J5IFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGRhdGUgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgaXNfcGFyY2VsZWQgQk9PTEVBTiBERUZBVUxUIDAsXG4gICAgICAgIHRvdGFsX3BhcmNlbHMgSU5URUdFUixcbiAgICAgICAgY3VycmVudF9wYXJjZWwgSU5URUdFUixcbiAgICAgICAgcGFyZW50X3RyYW5zYWN0aW9uX2lkIElOVEVHRVIsXG4gICAgICAgIHBhaWQgQk9PTEVBTiBERUZBVUxUIDAsXG4gICAgICAgIHBhaWRfYXQgREFURVRJTUUsXG4gICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgRk9SRUlHTiBLRVkgKHBhcmVudF90cmFuc2FjdGlvbl9pZCkgUkVGRVJFTkNFUyB0cmFuc2FjdGlvbnMoaWQpXG4gICAgICApO1xuXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBjYXRlZ29yaWVzIChcbiAgICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgICBuYW1lIFRFWFQgTk9UIE5VTEwgVU5JUVVFLFxuICAgICAgICB0eXBlIFRFWFQgTk9UIE5VTEwgQ0hFQ0sgKHR5cGUgSU4gKCdpbmNvbWUnLCAnZXhwZW5zZScpKSxcbiAgICAgICAgY29sb3IgVEVYVCBERUZBVUxUICcjM2I4MmY2JyxcbiAgICAgICAgY3JlYXRlZF9hdCBEQVRFVElNRSBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QXG4gICAgICApO1xuXG4gICAgICAtLSBJbnNlcmlyIGNhdGVnb3JpYXMgcGFkcsOjb1xuICAgICAgSU5TRVJUIE9SIElHTk9SRSBJTlRPIGNhdGVnb3JpZXMgKG5hbWUsIHR5cGUsIGNvbG9yKSBWQUxVRVNcbiAgICAgICAgKCdTYWzDoXJpbycsICdpbmNvbWUnLCAnIzIyYzU1ZScpLFxuICAgICAgICAoJ0ZyZWVsYW5jZScsICdpbmNvbWUnLCAnIzIyYzU1ZScpLFxuICAgICAgICAoJ0ludmVzdGltZW50b3MnLCAnaW5jb21lJywgJyMyMmM1NWUnKSxcbiAgICAgICAgKCdBbGltZW50YcOnw6NvJywgJ2V4cGVuc2UnLCAnI2VmNDQ0NCcpLFxuICAgICAgICAoJ1RyYW5zcG9ydGUnLCAnZXhwZW5zZScsICcjZWY0NDQ0JyksXG4gICAgICAgICgnTW9yYWRpYScsICdleHBlbnNlJywgJyNlZjQ0NDQnKSxcbiAgICAgICAgKCdTYcO6ZGUnLCAnZXhwZW5zZScsICcjZWY0NDQ0JyksXG4gICAgICAgICgnRWR1Y2HDp8OjbycsICdleHBlbnNlJywgJyNlZjQ0NDQnKSxcbiAgICAgICAgKCdMYXplcicsICdleHBlbnNlJywgJyNlZjQ0NDQnKSxcbiAgICAgICAgKCdPdXRyb3MnLCAnZXhwZW5zZScsICcjNmI3MjgwJyk7XG4gICAgYCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBpbmljaWFsaXphciBiYW5jbyBkZSBkYWRvczonLCBlcnJvcik7XG4gICAgfVxufTtcblxuLy8gSW5pY2lhbGl6YXIgbyBiYW5jb1xuaW5pdERhdGFiYXNlKCk7XG5cbi8vIEFkaWNpb25hciBjYW1wb3Mgc2UgbsOjbyBleGlzdGlyZW1cbmNvbnN0IGFkZE1pc3NpbmdDb2x1bW5zID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRiRXhlYyhgQUxURVIgVEFCTEUgdHJhbnNhY3Rpb25zIEFERCBDT0xVTU4gcGFpZCBCT09MRUFOIERFRkFVTFQgMGApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIENhbXBvIGrDoSBleGlzdGUsIGlnbm9yYXIgZXJyb1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRiRXhlYyhgQUxURVIgVEFCTEUgdHJhbnNhY3Rpb25zIEFERCBDT0xVTU4gcGFpZF9hdCBEQVRFVElNRWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIENhbXBvIGrDoSBleGlzdGUsIGlnbm9yYXIgZXJyb1xuICAgIH1cbn07XG5cbmFkZE1pc3NpbmdDb2x1bW5zKCk7XG5cbi8vIEZ1bsOnw6NvIHdyYXBwZXIgcGFyYSBkYi5hbGwgcXVlIGFjZWl0YSBhcnJheSBkZSBwYXLDom1ldHJvc1xuY29uc3QgZGJBbGxXaXRoUGFyYW1zID0gKHNxbDogc3RyaW5nLCBwYXJhbXM6IGFueVtdID0gW10pID0+IHtcbiAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGJBbGwoc3FsKTtcbiAgICB9XG4gICAgcmV0dXJuIChkYkFsbCBhcyBhbnkpKHNxbCwgLi4ucGFyYW1zKTtcbn07XG5cbi8vIEZ1bsOnw6NvIHdyYXBwZXIgcGFyYSBkYi5nZXQgcXVlIGFjZWl0YSBhcnJheSBkZSBwYXLDom1ldHJvc1xuY29uc3QgZGJHZXRXaXRoUGFyYW1zID0gKHNxbDogc3RyaW5nLCBwYXJhbXM6IGFueVtdID0gW10pID0+IHtcbiAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGJHZXQoc3FsKTtcbiAgICB9XG4gICAgcmV0dXJuIChkYkdldCBhcyBhbnkpKHNxbCwgLi4ucGFyYW1zKTtcbn07XG5cbi8vIEZ1bsOnw6NvIHdyYXBwZXIgcGFyYSBkYi5ydW4gcXVlIGFjZWl0YSBhcnJheSBkZSBwYXLDom1ldHJvc1xuY29uc3QgZGJSdW5XaXRoUGFyYW1zID0gKHNxbDogc3RyaW5nLCBwYXJhbXM6IGFueVtdID0gW10pID0+IHtcbiAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGJSdW4oc3FsKTtcbiAgICB9XG4gICAgcmV0dXJuIChkYlJ1biBhcyBhbnkpKHNxbCwgLi4ucGFyYW1zKTtcbn07XG5cbi8vIEV4cG9ydGFyIG3DqXRvZG9zIHByb21pc2lmaWNhZG9zXG5leHBvcnQgY29uc3QgZGJNZXRob2RzID0ge1xuICAgIHJ1bjogZGJSdW5XaXRoUGFyYW1zLFxuICAgIHJ1bldpdGhJZDogZGJSdW5XaXRoSWQsXG4gICAgZ2V0OiBkYkdldFdpdGhQYXJhbXMsXG4gICAgYWxsOiBkYkFsbFdpdGhQYXJhbXMsXG4gICAgZXhlYzogZGJFeGVjXG59O1xuXG5leHBvcnQgZGVmYXVsdCBkYjtcbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJzcWxpdGUzIiwicHJvbWlzaWZ5IiwiZGJQYXRoIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJkYXRhRGlyIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImRiIiwiRGF0YWJhc2UiLCJkYlJ1biIsInJ1biIsImJpbmQiLCJkYkdldCIsImdldCIsImRiQWxsIiwiYWxsIiwiZGJFeGVjIiwiZXhlYyIsImRiUnVuV2l0aElkIiwic3FsIiwicGFyYW1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnIiLCJsYXN0SUQiLCJjaGFuZ2VzIiwiaW5pdERhdGFiYXNlIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkTWlzc2luZ0NvbHVtbnMiLCJkYkFsbFdpdGhQYXJhbXMiLCJsZW5ndGgiLCJkYkdldFdpdGhQYXJhbXMiLCJkYlJ1bldpdGhQYXJhbXMiLCJkYk1ldGhvZHMiLCJydW5XaXRoSWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsummary%2Froute&page=%2Fapi%2Fsummary%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsummary%2Froute.ts&appDir=%2Fmedia%2Fa%2Fexec%2Flab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmedia%2Fa%2Fexec%2Flab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();